<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Using dojo/query</title>
  <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js" data-dojo-config="async: true">
  </script>
  <script>
    // require the query, dom, and domReady modules
    require(['dojo/dom', 'dojo/query', 'dojo/dom-class', 'dojo/domReady!'], function (dom, query, domClass) {
      // retrieve an array of nodes with the ID "list"
      var list = query('#list')[0];

      // retrieve an array of nodes with the class name "odd"
      var odds = query('.odd');

      // retrieve an array of nodes with the class name "odd"
      // from the first list using a selector
      var odds1 = query('#list .odd');

      // retrieve an array of nodes with the class name "odd"
      // from the first list using a DOM node
      var odds2 = query('.odd', dom.byId('list'));

      var oddA = query('a.odd');

      // Restrive an array of any a element that has an 
      // li as its ancestor
      var allA = query('li a');
      console.log(allA);

      // Restrive an array of any a element that has an 
      // li as its direct parent.
      var someA = query('li > a');
      console.log(someA);

      /* ========= NodeList ============ */
      query('.odd', dom.byId('#list3')).forEach(function (node, index, nodelist) {
        // for each node in the array returned by query,
        // execute the following code
        domClass.add(node, 'red');
      });

      /* ========= Event =========== */
      query('.hookUp').on('click', function () {
        alert('This button is hooked up!');
      })
    });
  </script>
</head>

<body>
  <h1>Using dojo/query</h1>
  <hr>
  <ul id="list">
    <li class="odd">
      <div class="bold">
        <a class="odd">Odd</a>
      </div>
    </li>
    <li class="even">
      <div class="italic">
        <a class="even">Even</a>
      </div>
    </li>
    <li class="odd">
      <a class="odd">Odd</a>
    </li>
    <li class="even">
      <div class="bold">
        <a class="even">Even</a>
      </div>
    </li>
    <li class="odd">
      <div class="italic">
        <a class="odd">Odd</a>
      </div>
    </li>
    <li class="even">
      <a class="even">Even</a>
    </li>
  </ul>
  <ul id="list2">
    <li class="odd">Odd</li>
  </ul>
  <!-- for NodeList -->
  <ul id="list3">
    <div class="odd">One</div>
    <div class="even">Two</div>
    <div class="odd">Three</div>
    <div class="even">Four</div>
    <div class="odd">Five</div>
    <div class="even">Six</div>
  </ul>
  <!-- Event -->
  <button class="hookUp demoBtn">Click Me!</button>
  <button class="hookUp demoBtn">Click Me!</button>
  <button class="hookUp demoBtn">Click Me!</button>
  <button class="hookUp demoBtn">Click Me!</button>
</body>

</html>